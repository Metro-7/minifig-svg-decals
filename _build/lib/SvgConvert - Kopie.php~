<?php
class SvgConvert
{
	private dpiX = 90;
	private dpiY = 90;
	private $infile = '';
	private $outfile = '';

	public function setInfile($path)
	{
		$this->infile = $path;
		return $this;
	}

	public function setOutfile($path, $format = 'png' )
	{
		$this->outfile = $path;
		$this->format = $format;
		return $this;
	}

	public function setDpi($dpi)
	{
		$this->dpiX = $dpi;
		$this->dpiY = $dpi;
		return $this;
	}

	public function useInkscape($bool)
	{
		$this->useInkscape = $bool;
		return $this;
	}

	public function exec()
	{
		$output = array();
		$returncode = 0;
		exec( $this->generateCommand(), $output, $returncode );

		if( $returncode != 0 )
		{
			throw new SvgConvertException($cmd, $returncode, $output);
		}
	}

	private function generateCommand()
	{
		if( $this->useInkscape )
		{
			return 
		}
		else
		{
			return "rsvg-convert --format=".$this->format." --output='".$this->outfile."' '".$this->infile."' 2>&1";
		}
	}
}
